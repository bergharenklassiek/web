<div class="app-home-page">
    @if (homePage$ | async; as homePage) {
      <div class="app-home-page__header">
        {{ homePage.content.headerText }}
      </div>
      <div class="app-home-page__header-short">
        {{ homePage.content.headerTextShort }}
      </div>
      @if (events$ | async; as events) {
        <div class="app-home-page__events" [ngClass]="{'app-home-page__events--centered': events.length <= 1 }" (scroll)="onScroll($event)" id="scroll-list">
          @if (events.length === 0) {
            <div class="app-home-page__events__no-events-message">
              <strong>We zijn op dit moment druk bezig met ons programma, hou de website in de gaten!</strong>
            </div>
          }
          @else {
            @for (event of events; track $index) {
              <app-event-card id="{{ event.id }}" [story]="event" [cardIndex]="$index"></app-event-card>
            }
          }
        </div>
      }
      <div class="app-home-page__about">
        <app-rich-text [richText]="homePage.content.aboutTeaser"></app-rich-text>
      </div>
      @defer {
        <div class="app-home-page__teaser-video">
          <iframe
              src="https://tube.rvere.com/embed?v=Iu5zm53P3Ak"
              title="YouTube video player"
              frameBorder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowFullScreen>
          </iframe>
        </div>
      }
    }
  </div>